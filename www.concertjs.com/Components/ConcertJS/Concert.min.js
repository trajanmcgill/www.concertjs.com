/*! ConcertJS 0.1.0 */
var Concert=function(){"use strict";var e=Concert,t=function(){function e(){var e=this;e.thisPublic=this;var t={thisPublic:e};e.___accessProtectedMembers=function(){i=t}}function t(){return this.___accessProtectedMembers(),i}function n(){}var i;return e.extend=function(e){var i=e(t,this);return n.prototype=this.prototype,i.prototype=new n,i.prototype.constructor=i,i.extend=this.extend,i},e}(),n={nextSequenceID:0,Definitions:{FallbackAutoPollerInterval:16,IterationRoundTimeHalfBound:50,StartingIterationsPerAsynchProcessingRound:{buildBreakPointList:1,consolidateDistinctValues:1,buildSortedArray:1,buildDistinctSegmentList:1,indexTargetSequences:1}},Util:{arraysShallowlyEqual:function(e,t){var n,i=e.length;if(t.length!==i)return!1;for(n=0;i>n;n++)if(e[n]!==t[n])return!1;return!0},isArray:function(e){return"object"==typeof e&&"[object Array]"===Object.prototype.toString.call(e)},loadObjectData:function(e,t,n,i){var r;for(r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);for(r in t)t.hasOwnProperty(r)&&(i[r]=t[r])},round:function(e,t){return t*Math.round(e/t)}},Applicators:{Property:function(e,t,n){e[t]=n},Style:function(e,t,n,i){e.style[t]=null===i?n:""+n+i},SVG_ElementAttribute:function(e,t,n,i){e.setAttribute(t,null===i?n:""+n+i)}},Calculators:{Color:function(e,t,i){function r(e){return 1===e.length&&(e+=e),parseInt(e,16)}function a(e,t,i){var a,o,s,u,l,c,f,h,d,m=/^rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$|^rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([0-9.]+)\s*\)$/i,g=/^hsl\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*\)$|^hsla\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*,\s*([0-9.]+)\s*\)$/i,p=/^#([0-9a-f])([0-9a-f])([0-9a-f])$|^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i,T=!1,v=!1;if(null!==(a=m.exec(e))?(o=m.exec(t),T=!0):null!==(a=g.exec(e))&&(o=g.exec(t),v=!0),T||v){for(s=[],u=1;8>u;u++)l=a[u],l!==void 0&&(l=parseInt(l,10),c=l+i*(parseInt(o[u],10)-l),s.push(7>u?n.Util.round(c,1):c));T?f="rgb"+(4===s.length?"a":"")+"("+s.join()+")":(c=""+s[0]+","+(""+s[1])+"%,"+(""+s[2])+"%",f=4===s.length?"hsla("+c+","+(""+s[3])+")":"hsl("+c+")")}else{for(a=p.exec(e),o=p.exec(t),h=[],d=[],u=1;7>u;u++)c=a[u],c!==void 0&&h.push(c),c=o[u],c!==void 0&&d.push(c);for(f="#",u=0;3>u;u++)l=r(h[u]),c=n.Util.round(l+i*(r(d[u])-l),1),f+=(16>c?"0":"")+c.toString(16)}return f}var o,s,u;if(n.Util.isArray(t))for(u=[],o=0,s=t.length;s>o;o++)u.push(a(t[o],i[o],e));else u=a(t,i,e);return u},Discrete:function(e,t,i,r){var a,o,s,u,l,c=r.round!==void 0;if(c&&(l=r.round),n.Util.isArray(t))for(s=[],a=0,u=t.length;u>a;a++)o=1>e?t[a]:i[a],s.push(c?n.Util.round(o,l):o);else o=1>e?t:i,s=c?n.Util.round(o,l):o;return s},Linear:function(e,t,i,r){var a,o,s,u,l,c,f=r.round!==void 0;if(f&&(c=r.round),n.Util.isArray(t))for(l=[],a=0,o=t.length;o>a;a++)s=t[a],u=s+e*(i[a]-s),l.push(f?n.Util.round(u,c):u);else u=t+e*(i-t),l=f?n.Util.round(u,c):u;return l},Rotational:function(e,t,i,r){var a,o=r.round!==void 0;o&&(a=r.round);var s=r.center[0],u=r.center[1],l=r.offset[0],c=r.offset[1],f=t[0],h=i[0],d=t[1],m=i[1],g=f+e*(h-f),p=d+e*(m-d),T=s+g*Math.cos(p)+l,v=u+g*Math.sin(p)+c;return o&&(T=n.Util.round(T,a),v=n.Util.round(v,a)),[T,v]}},EasingFunctions:{ConstantRate:function(e,t,n){return n>=t?1:e>n?0:(n-e)/(t-e)},QuadIn:function(e,t,n){return n>=t?1:e>n?0:Math.pow((n-e)/(t-e),2)},QuadInOut:function(e,t,n){var i;return n>=t?1:e>n?0:(i=(e+t)/2,i>n?Math.pow((n-e)/(i-e),2)/2:.5+(1-Math.pow(1-(n-i)/(t-i),2))/2)},QuadOut:function(e,t,n){return n>=t?1:e>n?0:1-Math.pow(1-(n-e)/(t-e),2)},Smoothstep:function(e,t,n){var i;return n>=t?1:e>n?0:(i=(n-e)/(t-e),i*i*(3-2*i))}},Repeating:{Bounce:function(e){function t(t,i,r){var a,o,s,u=i-t;return t>r?(a=t-r,o=Math.floor(a/u)+1,n||e>=o?(s=a%u,{adjustedTime:0===o%2?i-s:s,hitFinalBoundary:!1}):{adjustedTime:0===e%2?t:i,hitFinalBoundary:!0}):(a=r-i,o=Math.floor(a/u)+1,n||e>=o?(s=a%u,{adjustedTime:0===o%2?s:i-s,hitFinalBoundary:!1}):{adjustedTime:0===e%2?i:t,hitFinalBoundary:!0})}var n=e===void 0||null===e;return t},Loop:function(e){function t(t,i,r){var a,o=i-t;return t>r?(a=t-r,n||e>=a/o?{adjustedTime:i-a%o,hitFinalBoundary:!1}:{adjustedTime:t,hitFinalBoundary:!0}):(a=r-i,n||e>=a/o?{adjustedTime:t+a%o,hitFinalBoundary:!1}:{adjustedTime:i,hitFinalBoundary:!0})}var n=e===void 0||null===e;return t},None:function(e,t,n){return e>n?{adjustedTime:e,hitFinalBoundary:!0}:{adjustedTime:t,hitFinalBoundary:!0}}},Pollers:{Auto:t.extend(function(e,t){function i(){if(!window.cancelAnimationFrame)return new n.Pollers.FixedInterval(n.Definitions.FallbackAutoPollerInterval);t.call(this);var i=this.thisPublic,o=e.call(i);o.frameRequestID=null,i.run=r,i.stop=a}function r(t){var n,i=this.thisPublic,r=e.call(i);null===r.frameRequestID&&(n=function(){r.frameRequestID=window.requestAnimationFrame(n),t()},n())}function a(){var t=this.thisPublic,n=e.call(t);null!==n.frameRequestID&&(window.cancelAnimationFrame(n.frameRequestID),n.frameRequestID=null)}return i}),FixedInterval:t.extend(function(e,t){function n(n){t.call(this);var a=this.thisPublic,o=e.call(a);o.interval=n,o.intervalID=null,a.run=i,a.stop=r}function i(t){var n=this.thisPublic,i=e.call(n);null===i.intervalID&&(i.intervalID=setInterval(t,i.interval))}function r(){var t=this.thisPublic,n=e.call(t);null!==n.intervalID&&(clearInterval(n.intervalID),n.intervalID=null)}return n})},Transformation:function(){function e(e){var t;this.transformationID=u++,this.additionalProperties={};for(t in e)"target"===t||"feature"===t||"applicator"===t||"calculator"===t||"t0"===t||"t1"===t||"v0"===t||"v1"===t||"v0Generator"===t||"v1Generator"===t||"unit"===t||"easing"===t?this[t]=e[t]:e.hasOwnProperty(t)&&(this.additionalProperties[t]=e[t]);this.lastFrameID=null,this.lastCalculatedValue=null,this.lastAppliedValueContainer={value:n.Util.isArray(this.feature)?Array(this.feature.length):null,unit:n.Util.isArray(this.unit)?Array(this.unit.length):null},this.clone=i,this.generateValues=r,this.hasDynamicValues=a,this.retarget=o,this.seek=s}function t(e,t,i,r,a,o,s){var u,l,c,f,h,d,m,g,p,T,v;if(l=a.value,c=a.unit,f=o.value,h=o.unit,d=s||null===f,n.Util.isArray(i)){for(p=n.Util.isArray(c),u=0,m=i.length;m>u;u++)if(g=i[u],g===r){T=l[u],v=p?c[u]:c,(d||T!==f[u]||v!==(p?h[u]:h))&&(e(t,g,T,v),f[u]=T,p?h[u]=v:o.unit=v);break}}else(d||l!==f||c!==h)&&(e(t,i,l,c),o.value=l,o.unit=c)}function i(e){var t,i,r,a=this.additionalProperties,o={transformationID:!0,additionalProperties:!0,target:!0,lastAppliedValueContainer:!0,lastFrameID:!0,lastCalculatedValue:!0,clone:!0,generateValues:!0,hasDynamicValues:!0,retarget:!0,seek:!0};t=new n.Transformation;for(i in this)this.hasOwnProperty(i)&&!o[i]&&(t[i]=this[i]);t.target=e,t.lastAppliedValueContainer={value:n.Util.isArray(this.feature)?Array(this.feature.length):null,unit:n.Util.isArray(this.unit)?Array(this.unit.length):null},t.lastFrameID=null,t.lastCalculatedValue=null,r=t.additionalProperties;for(i in a)a.hasOwnProperty(i)&&(r[i]=a[i]);return t}function r(e){var t=this.v0Generator,n=this.v1Generator;"function"==typeof t&&(this.v0=t(e)),"function"==typeof n&&(this.v1=n(e))}function a(){return"function"==typeof this.v0Generator||"function"==typeof this.v1Generator}function o(e){this.target=e,this.lastAppliedValueContainer={value:n.Util.isArray(this.feature)?Array(this.feature.length):null,unit:n.Util.isArray(this.unit)?Array(this.unit.length):null}}function s(e,n,i,r){var a=n===this.lastFrameID?this.lastCalculatedValue:this.calculator(this.easing(this.t0,this.t1,e),this.v0,this.v1,this.additionalProperties);t(this.applicator,this.target,this.feature,i,{value:a,unit:this.unit},this.lastAppliedValueContainer,r)}var u=0;return e}(),FeatureSequence:function(){function e(e,n){this.target=e,this.feature=n,this.transformations=[],this.transformationIndexBySegment=null,this.clone=t,this.indexTransformations=i,this.retarget=r,this.seek=a}function t(e){var t,i,r,a,o=this.transformations,s=o.length,u=Array(s),l=this.transformationIndexBySegment,c=null,f=new n.FeatureSequence(e,this.feature),h={featureSequence:f,transformations:u};for(t=0;s>t;t++)u[t]=o[t].clone(e);if(f.transformations=u,l)for(r=l.length,c=Array(r),t=0;r>t;t++)for(a=l[t],i=0;s>i;i++)if(a===o[i]){c[t]=u[i];break}return f.transformationIndexBySegment=c,h}function i(e){var t,n,i,r,a,o,s,u,l=this.transformations,c=l.length-1,f=e.length;if(!(0>c))for(l.sort(function(e,t){var n=e.t0,i=t.t0;return n===i?0:i>n?-1:1}),i=this.transformationIndexBySegment=Array(f),r=0,u=e[0].startTime,t=0,a=l[0],c>0?(o=l[1],s=o.t0,n=!0):n=!1;f>r;)if(n&&u>=s)t++,a=o,c>t?(o=l[t+1],s=o.t0):n=!1;else{if(i[r]=a,r++,!(f>r))break;u=e[r].startTime}}function r(e){var t,n=this.transformations,i=n.length;for(t=0;i>t;t++)n[t].retarget(e);this.target=e}function a(e,t,n,i){return this.transformationIndexBySegment[e].seek(t,n,this.feature,i)}return e}(),TargetSequence:t.extend(function(e,t){function i(n){t.call(this);var i=this.thisPublic,f=e.call(i);f.target=n,f.featureSequences=[],i.addFeatureSequence=r,i.clone=a,i.findFeatureSequenceByFeature=o,i.getTarget=s,i.indexTransformations=u,i.retarget=l,i.seek=c}function r(t){var n=this.thisPublic,i=e.call(n);i.featureSequences.push(t)}function a(t){var i,r,a=this.thisPublic,o=e.call(a),s=[],u=o.featureSequences,l=u.length,c=new n.TargetSequence(t),f={targetSequence:c,transformations:s};for(i=0;l>i;i++)r=u[i].clone(t),c.addFeatureSequence(r.featureSequence),s.push.apply(s,r.transformations);return f}function o(t){var n,i,r=this.thisPublic,a=e.call(r),o=a.featureSequences,s=o.length;for(n=0;s>n;n++)if(i=o[n],i.feature===t)return i;return null}function s(){var t=this.thisPublic,n=e.call(t);return n.target}function u(t){var n,i,r=this.thisPublic,a=e.call(r),o=a.featureSequences;for(n=0,i=o.length;i>n;n++)o[n].indexTransformations(t)}function l(t){var n,i=this.thisPublic,r=e.call(i),a=r.featureSequences,o=a.length;for(n=0;o>n;n++)a[n].retarget(t);r.target=t}function c(t,n,i,r){var a,o,s=this.thisPublic,u=e.call(s),l=u.featureSequences;for(o=0,a=l.length;a>o;o++)l[o].seek(t,n,i,r)}return i}),TimelineSegment:function(e,t){this.startTime=e,this.endTime=t},Sequence:t.extend(function(e,t){function i(i){t.call(this);var r=this.thisPublic,a=e.call(r);a.ID=n.nextSequenceID,n.nextSequenceID++,a.nextFrameID=0,a.targetSequences=[],a.timelineSegments=[],a.lastUsedTimelineSegmentNumber=0,a.allTransformations=[],a.dynamicValueTransformations=[],a.indexCompletionCallbacks=[],a.indexed=!1,a.indexingInProgress=!1,a.indexTimerID=null,a.indexingProcessData={},a.running=!1,a.currentTime=null,a.unadjustedTime=null,a.sequenceStartTime=null,a.sequenceEndTime=null,a.poller=null,a.synchronizer=null,a.initialSyncSourcePoint=null,a.lastSegmentNumber=null,a.defaults={unit:null,applicator:Concert.Applicators.Property,easing:Concert.EasingFunctions.ConstantRate,calculator:Concert.Calculators.Linear},a.synchronizeTo=null,a.speed=1,a.timeOffset=0,a.pollingInterval=0,a.after=n.Repeating.None,a.before=n.Repeating.None,a.autoStopAtEnd=!0,a.onAutoStop=null,a.stretchStartTimeToZero=!0,a.soleControlOptimizationDuringRun=!0,a.advanceIndexingToNextStep=u,a.findSequenceSegmentNumberByTime=l,a.findSequenceSegmentNumberInRange=c,a.findTargetSequenceByTarget=f,a.resetIndexing=h,a.runIndexing=d,r.addTransformations=m,r.begin=g,r.clone=p,r.follow=T,r.generateValues=v,r.getCurrentTime=S,r.getEndTime=y,r.getID=b,r.getStartTime=P,r.index=I,r.isRunning=D,r.retarget=x,r.run=A,r.seek=w,r.setAfter=q,r.setBefore=R,r.setDefaults=k,r.stop=C,r.syncTo=F,i&&r.addTransformations(i)}function r(e,t){var n,i={};if(e)for(n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);if(t)for(n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);return i}function a(e,t,n){return e&&e[t]!==void 0?e[t]:n}function o(t,i){var r=this.thisPublic,a=e.call(r);n.Util.loadObjectData(t,i,r,a)}function s(e,t){var n,i=0,r=t.length-1;if(0>r||e>t[r])t.push(e);else if(t[0]>e)t.unshift(e);else{for(;r>i+1;)n=Math.floor((i+r)/2),t[n]>e?r=n:i=n;t.splice(r,0,e)}}function u(){var t,i,r,a,o=this.thisPublic,s=e.call(o),u=s.indexingProcessData,l=!1;switch(u.step++,u.startingIndex=0,u.step){case 1:u.inputData=u.outputData,u.iterationsPerRound=n.Definitions.StartingIterationsPerAsynchProcessingRound.consolidateDistinctValues,u.totalIterationsThisStep=u.inputData.length,u.outputData={};break;case 2:if(u.iterationsPerRound=n.Definitions.StartingIterationsPerAsynchProcessingRound.buildSortedArray,u.isAsynchronous){t=u.outputData,r=[];for(i in t)t.hasOwnProperty(i)&&r.push(t[i]);u.inputData=r,u.totalIterationsThisStep=r.length}else u.inputData=u.outputData,u.totalIterationsThisStep=1;u.outputData=[];break;case 3:u.inputData=u.outputData,u.iterationsPerRound=n.Definitions.StartingIterationsPerAsynchProcessingRound.buildDistinctSegmentList,u.totalIterationsThisStep=u.inputData.length-1,u.outputData=Array(u.totalIterationsThisStep);break;case 4:u.inputData=u.outputData,u.iterationsPerRound=n.Definitions.StartingIterationsPerAsynchProcessingRound.indexTargetSequences,u.totalIterationsThisStep=s.targetSequences.length,u.outputData=null;break;case 5:for(l=!0,s.timelineSegments=a=u.inputData,s.sequenceStartTime=!a||1>a.length?null:a[0].startTime,s.sequenceEndTime=!a||1>a.length?null:a[a.length-1].endTime,s.indexed=!0,s.indexingInProgress=!1,u.inputData=null,u.iterationsPerRound=1,u.totalIterationsThisStep=0,u.outputData=null;s.indexCompletionCallbacks.length;)s.indexCompletionCallbacks.shift()(o)}return l}function l(t){var n,i,r,a,o=this.thisPublic,s=e.call(o),u=s.timelineSegments,l=u.length;return l>0?(i=s.lastUsedTimelineSegmentNumber,r=u[i],a=r.endTime,t>=r.startTime?a>t?n={segmentNumber:i,timeMatchType:0}:i===l-1?n={segmentNumber:i,timeMatchType:1}:(i++,r=u[i],a=r.endTime,n=a>t?{segmentNumber:i,timeMatchType:0}:i===l-1?{segmentNumber:i,timeMatchType:1}:s.findSequenceSegmentNumberInRange(t,i+1,l-1)):n=0===i?{segmentNumber:0,timeMatchType:-1}:s.findSequenceSegmentNumberInRange(t,0,i-1),s.lastUsedTimelineSegmentNumber=n.segmentNumber):n=null,n}function c(t,n,i){var r,a,o,s=this.thisPublic,u=e.call(s);do if(r=Math.floor((n+i)/2),a=u.timelineSegments[r],a.startTime>t)i=r-1,o=-1;else{if(!(t>=a.endTime)){o=0;break}n=r+1,o=1}while(i>n);return{segmentNumber:r,timeMatchType:o}}function f(t){var n,i=this.thisPublic,r=e.call(i),a=r.targetSequences,o=a.length;for(n=0;o>n;n++)if(a[n].getTarget()===t)return a[n];return null}function h(){var t=this.thisPublic,i=e.call(t),r=i.indexingProcessData;r.step=0,r.startingIndex=0,r.iterationsPerRound=n.Definitions.StartingIterationsPerAsynchProcessingRound.buildBreakPointList,r.inputData=i.allTransformations,r.totalIterationsThisStep=i.allTransformations.length,r.outputData=Array(2*r.totalIterationsThisStep)}function d(){function t(){var e,i,r,u,l,c,f,h=o.step,d=o.isAsynchronous,m=o.inputData,g=o.startingIndex,p=o.totalIterationsThisStep,T=d?o.iterationsPerRound:p,v=Math.min(p,g+T),S=o.outputData,y=!1,b=0===h?2*g:null;if(d&&(e=(new Date).getTime()),2!==h||d||n.Util.isArray(m))for(3===h?u=m[g]:4===h&&(f=a.targetSequences);v>g;){switch(h){case 0:r=m[g],S[b++]=r.t0,S[b++]=r.t1;break;case 1:u=m[g],S[u]=u;break;case 2:s(m[g],S);break;case 3:c=m[g+1],S[g]=new n.TimelineSegment(u,c),u=c;break;case 4:f[g].indexTransformations(m)}g++}else for(l in m)m.hasOwnProperty(l)&&s(m[l],S);return v===p?y=a.advanceIndexingToNextStep():(i=(new Date).getTime(),o.startingIndex=g,n.Definitions.IterationRoundTimeHalfBound>i-e&&(o.iterationsPerRound*=2)),d&&!y&&(a.indexTimerID=window.setTimeout(t,0)),y}var i,r=this.thisPublic,a=e.call(r),o=a.indexingProcessData;if(o.isAsynchronous)a.indexingInProgress=!0,a.indexTimerID=window.setTimeout(t,0);else for(null!==a.indexTimerID&&(window.clearTimeout(a.indexTimerID),a.indexTimerID=null);!i;)i=t()}function m(t){var i,r,a,o,s,u,l,c,f,h,d,m,g,p,T,v,S,y,b,P,I,D,x,A,w,q,R,k,C,F,O,U,B,N,V=this.thisPublic,M=e.call(V),j=M.targetSequences,z=null,E=M.defaults,G=M.allTransformations,L=M.dynamicValueTransformations;for(M.indexingInProgress?M.resetIndexing():M.indexed=!1,n.Util.isArray(t)||(t=[t]),i=0,o=t.length;o>i;i++)if(s=t[i],u=s.target,l=s.targets,n.Util.isArray(l))for(u!==void 0&&null!==u&&(l=[u].concat(l)),r=0,c=l.length;c>r;r++){f={};for(b in s)s.hasOwnProperty(b)&&(f[b]=s[b]);f.targets=null,f.target=l[r],V.addTransformations(f)}else{for(z=M.findTargetSequenceByTarget(u),null===z&&(z=new n.TargetSequence(u),j.push(z)),h=n.Util.isArray(s.feature)?s.feature:[s.feature],p=s.applicator,p===void 0&&(p=E.applicator),d=s.unit,d===void 0&&(d=E.unit),m=s.calculator,m===void 0&&(m=E.calculator),g=s.easing,g===void 0&&(g=E.easing),x=Array(h.length),r=0;h.length>r;r++)D=z.findFeatureSequenceByFeature(h[r]),null===D&&(D=new n.FeatureSequence(u,h[r]),z.addFeatureSequence(D)),x[r]=D;if(T=s.keyframes,T!==void 0){for(w=T.times,q=T.values,R=T.valueGenerators,O=U=B=C=F=null,r=0,A=w.length;A>r;r++)if(k=w[r],q&&(C=q[r]),R&&(F=R[r]),null===O?(O=k,U=C,B=F,N=null!==k&&r===A-1):null===k?(O=U=B=null,N=!1):N=!0,N){for(P={target:u,feature:1===h.length?h[0]:h,applicator:p,unit:d,calculator:m,easing:g,t0:O,t1:k,v0:U,v1:C,v0Generator:B,v1Generator:F},I=new n.Transformation(P),G.push(I),(B||F)&&L.push(I),a=0;x.length>a;a++)x[a].transformations.push(I);O=k,U=C}}else for(v=s.segments,n.Util.isArray(v)||(v=[v]),r=0,S=v.length;S>r;r++){y=v[r],P={target:u,feature:1===h.length?h[0]:h,applicator:p};for(b in y)y.hasOwnProperty(b)&&(P[b]=y[b]);for(P.unit===void 0&&(P.unit=d),P.calculator===void 0&&(P.calculator=m),P.easing===void 0&&(P.easing=g),I=new n.Transformation(P),G.push(I),(P.v0Generator!==void 0||P.v1Generator!==void 0)&&L.push(I),a=0;x.length>a;a++)x[a].transformations.push(I)}}}function g(e){var t=this.thisPublic;t.run(r({synchronizeTo:null,initialSeek:0,timeOffset:null,autoStopAtEnd:!0},e))}function p(t,i,r){var a,s,u,l,c,f,h,d,m,g,p,T=this.thisPublic,v=e.call(T),S=i&&v.running,y=v.currentTime,b=v.synchronizer,P=v.speed,I=v.timeOffset,D=v.pollingInterval,x=v.initialSyncSourcePoint,A=v.allTransformations.length,w=0,q=0,R=Array(A),k=Array(v.dynamicValueTransformations.length),C=v.targetSequences,F=C.length,O=Array(F),U=v.timelineSegments,B=U.length,N=Array(B),V=v.defaults,M={},j=new n.Sequence,z={},E=v.soleControlOptimizationDuringRun;for(a=0;F>a;a++)for(d=C[a],m=d.clone(t(d.getTarget())),O[a]=m.targetSequence,l=m.transformations,s=0,c=l.length;c>s;s++)h=l[s],R[w]=h,w++,h.hasDynamicValues()&&(k[q]=h,q++);for(a=0;B>a;a++)g=U[a],N[a]=new n.TimelineSegment(g.startTime,g.endTime);for(u in V)V.hasOwnProperty(u)&&(M[u]=V[u]);return f=S?f=1>D?new n.Pollers.Auto:new n.Pollers.FixedInterval(D):null,p={targetSequences:O,timelineSegments:N,lastUsedTimelineSegmentNumber:v.lastUsedTimelineSegmentNumber,allTransformations:R,dynamicValueTransformations:k,indexCompletionCallbacks:[],indexed:v.indexed,indexingInProgress:!1,indexTimerID:null,indexingProcessData:{},running:S,currentTime:y,unadjustedTime:v.unadjustedTime,sequenceStartTime:v.sequenceStartTime,sequenceEndTime:v.sequenceEndTime,poller:f,synchronizer:b,initialSyncSourcePoint:x,defaults:M,synchronizeTo:v.synchronizeTo,speed:P,timeOffset:I,pollingInterval:D,after:v.after,before:v.before,autoStopAtEnd:v.autoStopAtEnd,onAutoStop:v.onAutoStop,stretchStartTimeToZero:v.stretchStartTimeToZero,soleControlOptimizationDuringRun:E},o.call(j,z,p),r&&j.seek(y,E),S&&f.run(function(){j.seek(x+P*(b()-x)+I,E)}),j}function T(e,t){var n=this.thisPublic;n.run(r({synchronizeTo:e,initialSeek:null,timeOffset:null},t))}function v(){var t,n=this.thisPublic,i=e.call(n),r=i.dynamicValueTransformations,a=r.length;for(t=0;a>t;t++)r[t].generateValues(n)}function S(){var t=this.thisPublic,n=e.call(t);return n.currentTime}function y(){var t=this.thisPublic,n=e.call(t);return n.indexed||t.index(null,!1),n.sequenceEndTime}function b(){var t=this.thisPublic,n=e.call(t);return n.ID}function P(){var t=this.thisPublic,n=e.call(t);return n.indexed||t.index(null,!1),n.stretchStartTimeToZero?Math.min(n.sequenceStartTime,0):n.sequenceStartTime}function I(t,n){var i=this.thisPublic,r=e.call(i);r.indexed&&t?t(i):1>r.allTransformations.length?(r.indexed=!0,t&&t(i)):(t&&r.indexCompletionCallbacks.push(t),r.indexingInProgress||r.resetIndexing(),r.indexingProcessData.isAsynchronous=n?!0:!1,r.runIndexing())}function D(){var t=this.thisPublic,n=e.call(t);return n.running}function x(t){var n,i,r=this.thisPublic,a=e.call(r),o=a.targetSequences,s=o.length;for(n=0;s>n;n++)i=o[n],i.retarget(t(i.getTarget()))}function A(t){var i,r,o,s,u,l,c,f,h=this.thisPublic,d=e.call(h);d.running&&h.stop(),d.indexed||h.index(null,!1),a(t,"generateValues",!0)&&h.generateValues(),s=a(t,"initialSeek",null),null!==s&&h.seek(s,!1),d.speed=r=a(t,"speed",d.speed),d.after=a(t,"after",d.after),d.before=a(t,"before",d.before),d.autoStopAtEnd=a(t,"autoStopAtEnd",d.autoStopAtEnd),d.onAutoStop=a(t,"onAutoStop",d.onAutoStop),d.stretchStartTimeToZero=a(t,"stretchStartTimeToZero",d.stretchStartTimeToZero),d.soleControlOptimizationDuringRun=f=a(t,"useSoleControlOptimization",d.soleControlOptimizationDuringRun),d.pollingInterval=u=a(t,"pollingInterval",d.pollingInterval),d.poller=1>u?new n.Pollers.Auto:new n.Pollers.FixedInterval(u),i=a(t,"synchronizeTo",d.synchronizeTo),l=null===i?function(){return(new Date).getTime()}:"function"==typeof i?i:function(){return 1e3*i.currentTime},d.synchronizer=l,d.initialSyncSourcePoint=c=l(),o=a(t,"timeOffset",null),null===o&&(o=null!==d.unadjustedTime?d.unadjustedTime-c:h.getStartTime()-c),d.timeOffset=o,d.running=!0,d.poller.run(function(){h.seek(c+r*(l()-c)+o,f)})}function w(t,n){var i,r,a,o,s,u,l,c,f,h=this.thisPublic,d=e.call(h),m=!1,g=null,p=d.targetSequences,T=p.length;if(d.indexed||h.index(null,!1),o=h.getStartTime(),s=d.sequenceEndTime,c=d.nextFrameID++,o>t?(u=d.before(o,s,t),l=u.adjustedTime,m=u.hitFinalBoundary):t>s?(u=d.after(o,s,t),l=u.adjustedTime,m=u.hitFinalBoundary):l=t,d.currentTime=l,d.unadjustedTime=t,r=d.findSequenceSegmentNumberByTime(l),null!==r){for(a=r.segmentNumber,a!==d.lastSegmentNumber?(f=!0,d.lastSegmentNumber=a):f=n===void 0?!0:!n,i=0;T>i;i++)p[i].seek(a,l,c,f);g=r.timeMatchType}return m&&d.running&&d.autoStopAtEnd&&(h.stop(),d.onAutoStop&&d.onAutoStop(h)),g}function q(t){var n=this.thisPublic,i=e.call(n);i.after=t}function R(t){var n=this.thisPublic,i=e.call(n);i.before=t}function k(t){var n,i=this.thisPublic,r=e.call(i),a=r.defaults;for(n in t)t.hasOwnProperty(n)&&(a[n]=t[n])}function C(){var t=this.thisPublic,n=e.call(t);n.running=!1,n.poller&&(n.poller.stop(),n.poller=null)}function F(e,t){var n=this.thisPublic;n.run(r({synchronizeTo:e,initialSeek:null,timeOffset:0,autoStopAtEnd:!1},t))}return i}),revertNameSpace:function(){Concert=e}},i={Applicators:n.Applicators,Calculators:n.Calculators,EasingFunctions:n.EasingFunctions,Repeating:n.Repeating,Sequence:n.Sequence,revertNameSpace:n.revertNameSpace};return i}();