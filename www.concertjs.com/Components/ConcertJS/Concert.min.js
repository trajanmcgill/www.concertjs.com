/*! ConcertJS 0.1.0 */
var Concert=function(){"use strict";var e=Concert,t=function(){function e(){var e=this;e.thisPublic=this;var t={thisPublic:e};e.___accessProtectedMembers=function(){i=t}}function t(){return this.___accessProtectedMembers(),i}function n(){}var i;return e.extend=function(e){var i=e(t,this);return n.prototype=this.prototype,i.prototype=new n,i.prototype.constructor=i,i.extend=this.extend,i},e}(),n={nextSequenceID:0,Definitions:{FallbackAutoPollerInterval:16,IterationRoundTimeHalfBound:50,StartingIterationsPerAsynchProcessingRound:{buildBreakPointList:1,consolidateDistinctValues:1,buildSortedArray:1,buildDistinctSegmentList:1,indexTargetSequences:1}},Util:{arraysShallowlyEqual:function(e,t){var n,i=e.length;if(t.length!==i)return!1;for(n=0;i>n;n++)if(e[n]!==t[n])return!1;return!0},isArray:function(e){return"object"==typeof e&&"[object Array]"===Object.prototype.toString.call(e)},loadObjectData:function(e,t,n,i){var r;for(r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);for(r in t)t.hasOwnProperty(r)&&(i[r]=t[r])},round:function(e,t){return t*Math.round(e/t)}},Applicators:{Property:function(e,t,n){e[t]=n},Style:function(e,t,n,i){e.style[t]=null===i?n:""+n+i},SVG_ElementAttribute:function(e,t,n,i){e.setAttribute(t,null===i?n:""+n+i)}},Calculators:{Color:function(e,t,i){function r(e){return 1===e.length&&(e+=e),parseInt(e,16)}function a(e,t,i){var a,u,o,l,s,c,f,h,d,m=/^rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$|^rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([0-9.]+)\s*\)$/i,g=/^hsl\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*\)$|^hsla\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*,\s*([0-9.]+)\s*\)$/i,p=/^#([0-9a-f])([0-9a-f])([0-9a-f])$|^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i,v=!1,T=!1;if(null!==(a=m.exec(e))?(u=m.exec(t),v=!0):null!==(a=g.exec(e))&&(u=g.exec(t),T=!0),v||T){for(o=[],l=1;8>l;l++)s=a[l],s!==void 0&&(s=parseInt(s,10),c=s+i*(parseInt(u[l],10)-s),o.push(7>l?n.Util.round(c,1):c));v?f="rgb"+(4===o.length?"a":"")+"("+o.join()+")":(c=""+o[0]+","+(""+o[1])+"%,"+(""+o[2])+"%",f=4===o.length?"hsla("+c+","+(""+o[3])+")":"hsl("+c+")")}else{for(a=p.exec(e),u=p.exec(t),h=[],d=[],l=1;7>l;l++)c=a[l],c!==void 0&&h.push(c),c=u[l],c!==void 0&&d.push(c);for(f="#",l=0;3>l;l++)s=r(h[l]),c=n.Util.round(s+i*(r(d[l])-s),1),f+=(16>c?"0":"")+c.toString(16)}return f}var u,o,l;if(n.Util.isArray(t))for(l=[],u=0,o=t.length;o>u;u++)l.push(a(t[u],i[u],e));else l=a(t,i,e);return l},Discrete:function(e,t,i,r){var a,u,o,l,s,c=r.round!==void 0;if(c&&(s=r.round),n.Util.isArray(t))for(o=[],a=0,l=t.length;l>a;a++)u=1>e?t[a]:i[a],o.push(c?n.Util.round(u,s):u);else u=1>e?t:i,o=c?n.Util.round(u,s):u;return o},Linear:function(e,t,i,r){var a,u,o,l,s,c,f=r.round!==void 0;if(f&&(c=r.round),n.Util.isArray(t))for(s=[],a=0,u=t.length;u>a;a++)o=t[a],l=o+e*(i[a]-o),s.push(f?n.Util.round(l,c):l);else l=t+e*(i-t),s=f?n.Util.round(l,c):l;return s},Rotational:function(e,t,i,r){var a,u=r.round!==void 0;u&&(a=r.round);var o=r.center[0],l=r.center[1],s=r.offset[0],c=r.offset[1],f=t[0],h=i[0],d=t[1],m=i[1],g=f+e*(h-f),p=d+e*(m-d),v=o+g*Math.cos(p)+s,T=l+g*Math.sin(p)+c;return u&&(v=n.Util.round(v,a),T=n.Util.round(T,a)),[v,T]}},EasingFunctions:{ConstantRate:function(e,t,n){return n>=t?1:e>n?0:(n-e)/(t-e)},QuadIn:function(e,t,n){return n>=t?1:e>n?0:Math.pow((n-e)/(t-e),2)},QuadInOut:function(e,t,n){var i;return n>=t?1:e>n?0:(i=(e+t)/2,i>n?Math.pow((n-e)/(i-e),2)/2:.5+(1-Math.pow(1-(n-i)/(t-i),2))/2)},QuadOut:function(e,t,n){return n>=t?1:e>n?0:1-Math.pow(1-(n-e)/(t-e),2)},Smoothstep:function(e,t,n){var i;return n>=t?1:e>n?0:(i=(n-e)/(t-e),i*i*(3-2*i))}},Repeating:{Bounce:function(e){function t(t,i,r){var a,u,o,l=i-t;return t>r?(a=t-r,u=Math.floor(a/l)+1,n||e>=u?(o=a%l,{adjustedTime:0===u%2?i-o:o,hitFinalBoundary:!1}):{adjustedTime:0===e%2?t:i,hitFinalBoundary:!0}):(a=r-i,u=Math.floor(a/l)+1,n||e>=u?(o=a%l,{adjustedTime:0===u%2?o:i-o,hitFinalBoundary:!1}):{adjustedTime:0===e%2?i:t,hitFinalBoundary:!0})}var n=e===void 0||null===e;return t},Loop:function(e){function t(t,i,r){var a,u=i-t;return t>r?(a=t-r,n||e>=a/u?{adjustedTime:i-a%u,hitFinalBoundary:!1}:{adjustedTime:t,hitFinalBoundary:!0}):(a=r-i,n||e>=a/u?{adjustedTime:t+a%u,hitFinalBoundary:!1}:{adjustedTime:i,hitFinalBoundary:!0})}var n=e===void 0||null===e;return t},None:function(e,t,n){return e>n?{adjustedTime:e,hitFinalBoundary:!0}:{adjustedTime:t,hitFinalBoundary:!0}}},Pollers:{Auto:t.extend(function(e,t){function i(){if(!window.cancelAnimationFrame)return new n.Pollers.FixedInterval(n.Definitions.FallbackAutoPollerInterval);t.call(this);var i=this.thisPublic,u=e.call(i);u.frameRequestID=null,i.run=r,i.stop=a}function r(t){var n,i=this.thisPublic,r=e.call(i);null===r.frameRequestID&&(n=function(){r.frameRequestID=window.requestAnimationFrame(n),t()},n())}function a(){var t=this.thisPublic,n=e.call(t);null!==n.frameRequestID&&(window.cancelAnimationFrame(n.frameRequestID),n.frameRequestID=null)}return i}),FixedInterval:t.extend(function(e,t){function n(n){t.call(this);var a=this.thisPublic,u=e.call(a);u.interval=n,u.intervalID=null,a.run=i,a.stop=r}function i(t){var n=this.thisPublic,i=e.call(n);null===i.intervalID&&(i.intervalID=setInterval(t,i.interval))}function r(){var t=this.thisPublic,n=e.call(t);null!==n.intervalID&&(clearInterval(n.intervalID),n.intervalID=null)}return n})},Transformation:function(){function e(e){var t;this.transformationID=l++,this.additionalProperties={};for(t in e)"target"===t||"feature"===t||"applicator"===t||"calculator"===t||"t1"===t||"t2"===t||"v1"===t||"v2"===t||"v1Generator"===t||"v2Generator"===t||"unit"===t||"easing"===t?this[t]=e[t]:e.hasOwnProperty(t)&&(this.additionalProperties[t]=e[t]);this.lastFrameID=null,this.lastCalculatedValue=null,this.lastAppliedValueContainer={value:n.Util.isArray(this.feature)?Array(this.feature.length):null,unit:null},this.clone=i,this.generateValues=r,this.hasDynamicValues=a,this.retarget=u,this.seek=o}function t(e,t,i,r,a,u,o){var l,s,c,f,h,d,m,g,p,v,T;if(s=a.value,c=a.unit,f=u.value,h=u.unit,d=o||null===f,n.Util.isArray(i))for(p=n.Util.isArray(c),l=0,m=i.length;m>l;l++)g=i[l],g===r&&(v=s[l],T=p?c[l]:c,(d||v!==f[l]||T!==(p?h[l]:h))&&(e(t,g,v,T),f[l]=v,p?h[l]=T:u.unit=T));else(d||s!==f||c!==h)&&(e(t,i,s,c),u.value=s,u.unit=c)}function i(e){var t,i,r,a=this.additionalProperties,u={transformationID:!0,additionalProperties:!0,target:!0,lastAppliedValueContainer:!0,lastFrameID:!0,lastCalculatedValue:!0,clone:!0,generateValues:!0,hasDynamicValues:!0,retarget:!0,seek:!0};t=new n.Transformation;for(i in this)this.hasOwnProperty(i)&&!u[i]&&(t[i]=this[i]);t.target=e,t.lastAppliedValueContainer={value:n.Util.isArray(this.feature)?Array(this.feature.length):null,unit:null},t.lastFrameID=null,t.lastCalculatedValue=null,r=t.additionalProperties;for(i in a)a.hasOwnProperty(i)&&(r[i]=a[i]);return t}function r(e){var t=this.v1Generator,n=this.v2Generator;"function"==typeof t&&(this.v1=t(e)),"function"==typeof n&&(this.v2=n(e))}function a(){return"function"==typeof this.v1Generator||"function"==typeof this.v2Generator}function u(e){this.target=e,this.lastAppliedValueContainer={value:n.Util.isArray(this.feature)?Array(this.feature.length):null,unit:null}}function o(e,n,i,r){var a=n===this.lastFrameID?this.lastCalculatedValue:this.calculator(this.easing(this.t1,this.t2,e),this.v1,this.v2,this.additionalProperties);t(this.applicator,this.target,this.feature,i,{value:a,unit:this.unit},this.lastAppliedValueContainer,r)}var l=0;return e}(),FeatureSequence:function(){function e(e,n){this.target=e,this.feature=n,this.transformations=[],this.transformationIndexBySegment=null,this.clone=t,this.indexTransformations=i,this.retarget=r,this.seek=a}function t(e){var t,i,r,a,u=this.transformations,o=u.length,l=Array(o),s=this.transformationIndexBySegment,c=null,f=new n.FeatureSequence(e,this.feature),h={featureSequence:f,transformations:l};for(t=0;o>t;t++)l[t]=u[t].clone(e);if(f.transformations=l,s)for(r=s.length,c=Array(r),t=0;r>t;t++)for(a=s[t],i=0;o>i;i++)if(a===u[i]){c[t]=l[i];break}return f.transformationIndexBySegment=c,h}function i(e){var t,n,i,r,a,u,o,l,s=this.transformations,c=s.length-1,f=e.length;if(!(0>c))for(s.sort(function(e,t){var n=e.t1,i=t.t1;return n===i?0:i>n?-1:1}),i=this.transformationIndexBySegment=Array(f),r=0,l=e[0].startTime,t=0,a=s[0],c>0?(u=s[1],o=u.t1,n=!0):n=!1;f>r;)if(n&&l>=o)t++,a=u,c>t?(u=s[t+1],o=u.t1):n=!1;else{if(i[r]=a,r++,!(f>r))break;l=e[r].startTime}}function r(e){var t,n=this.transformations,i=n.length;for(t=0;i>t;t++)n[t].retarget(e);this.target=e}function a(e,t,n,i){return this.transformationIndexBySegment[e].seek(t,n,this.feature,i)}return e}(),TargetSequence:t.extend(function(e,t){function i(n){t.call(this);var i=this.thisPublic,f=e.call(i);f.target=n,f.featureSequences=[],i.addFeatureSequence=r,i.clone=a,i.findFeatureSequenceByFeature=u,i.getTarget=o,i.indexTransformations=l,i.retarget=s,i.seek=c}function r(t){var n=this.thisPublic,i=e.call(n);i.featureSequences.push(t)}function a(t){var i,r,a=this.thisPublic,u=e.call(a),o=[],l=u.featureSequences,s=l.length,c=new n.TargetSequence(t),f={targetSequence:c,transformations:o};for(i=0;s>i;i++)r=l[i].clone(t),c.addFeatureSequence(r.featureSequence),o.push.apply(o,r.transformations);return f}function u(t){var n,i,r=this.thisPublic,a=e.call(r),u=a.featureSequences,o=u.length;for(n=0;o>n;n++)if(i=u[n],i.feature===t)return i;return null}function o(){var t=this.thisPublic,n=e.call(t);return n.target}function l(t){var n,i,r=this.thisPublic,a=e.call(r),u=a.featureSequences;for(n=0,i=u.length;i>n;n++)u[n].indexTransformations(t)}function s(t){var n,i=this.thisPublic,r=e.call(i),a=r.featureSequences,u=a.length;for(n=0;u>n;n++)a[n].retarget(t);r.target=t}function c(t,n,i,r){var a,u,o=this.thisPublic,l=e.call(o),s=l.featureSequences;for(u=0,a=s.length;a>u;u++)s[u].seek(t,n,i,r)}return i}),TimelineSegment:function(e,t){this.startTime=e,this.endTime=t},Sequence:t.extend(function(e,t){function i(i){t.call(this);var r=this.thisPublic,a=e.call(r);a.ID=n.nextSequenceID,n.nextSequenceID++,a.nextFrameID=0,a.targetSequences=[],a.timelineSegments=[],a.lastUsedTimelineSegmentNumber=0,a.allTransformations=[],a.dynamicValueTransformations=[],a.indexCompletionCallbacks=[],a.indexed=!1,a.indexingInProgress=!1,a.indexTimerID=null,a.indexingProcessData={},a.running=!1,a.currentTime=null,a.unadjustedTime=null,a.sequenceStartTime=null,a.sequenceEndTime=null,a.poller=null,a.synchronizer=null,a.initialSyncSourcePoint=null,a.lastSegmentNumber=null,a.defaults={unit:null,applicator:Concert.Applicators.Property,easing:Concert.EasingFunctions.ConstantRate,calculator:Concert.Calculators.Linear},a.synchronizeTo=null,a.speed=1,a.timeOffset=0,a.pollingInterval=0,a.after=n.Repeating.None,a.before=n.Repeating.None,a.autoStopAtEnd=!0,a.onAutoStop=null,a.soleControlOptimizationDuringRun=!0,a.advanceIndexingToNextStep=l,a.findSequenceSegmentNumberByTime=s,a.findSequenceSegmentNumberInRange=c,a.findTargetSequenceByTarget=f,a.resetIndexing=h,a.runIndexing=d,r.addTransformations=m,r.begin=g,r.clone=p,r.follow=v,r.generateValues=T,r.getCurrentTime=S,r.getEndTime=y,r.getID=P,r.getStartTime=b,r.index=I,r.isRunning=D,r.retarget=x,r.run=w,r.seek=q,r.setDefaults=A,r.stop=R,r.syncTo=k,i&&r.addTransformations(i)}function r(e,t){var n,i={};if(e)for(n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);if(t)for(n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);return i}function a(e,t,n){return e&&e[t]!==void 0?e[t]:n}function u(t,i){var r=this.thisPublic,a=e.call(r);n.Util.loadObjectData(t,i,r,a)}function o(e,t){var n,i=0,r=t.length-1;if(0>r||e>t[r])t.push(e);else if(t[0]>e)t.unshift(e);else{for(;r>i+1;)n=Math.floor((i+r)/2),t[n]>e?r=n:i=n;t.splice(r,0,e)}}function l(){var t,i,r,a,u=this.thisPublic,o=e.call(u),l=o.indexingProcessData,s=!1;switch(l.step++,l.startingIndex=0,l.step){case 1:l.inputData=l.outputData,l.iterationsPerRound=n.Definitions.StartingIterationsPerAsynchProcessingRound.consolidateDistinctValues,l.totalIterationsThisStep=l.inputData.length,l.outputData={};break;case 2:if(l.iterationsPerRound=n.Definitions.StartingIterationsPerAsynchProcessingRound.buildSortedArray,l.isAsynchronous){t=l.outputData,r=[];for(i in t)t.hasOwnProperty(i)&&r.push(t[i]);l.inputData=r,l.totalIterationsThisStep=r.length}else l.inputData=l.outputData,l.totalIterationsThisStep=1;l.outputData=[];break;case 3:l.inputData=l.outputData,l.iterationsPerRound=n.Definitions.StartingIterationsPerAsynchProcessingRound.buildDistinctSegmentList,l.totalIterationsThisStep=l.inputData.length-1,l.outputData=Array(l.totalIterationsThisStep);break;case 4:l.inputData=l.outputData,l.iterationsPerRound=n.Definitions.StartingIterationsPerAsynchProcessingRound.indexTargetSequences,l.totalIterationsThisStep=o.targetSequences.length,l.outputData=null;break;case 5:for(s=!0,o.timelineSegments=a=l.inputData,o.sequenceStartTime=!a||1>a.length?null:a[0].startTime,o.sequenceEndTime=!a||1>a.length?null:a[a.length-1].endTime,o.indexed=!0,o.indexingInProgress=!1,l.inputData=null,l.iterationsPerRound=1,l.totalIterationsThisStep=0,l.outputData=null;o.indexCompletionCallbacks.length;)o.indexCompletionCallbacks.shift()(u)}return s}function s(t){var n,i,r,a,u=this.thisPublic,o=e.call(u),l=o.timelineSegments,s=l.length;return s>0?(i=o.lastUsedTimelineSegmentNumber,r=l[i],a=r.endTime,t>=r.startTime?a>t?n={segmentNumber:i,timeMatchType:0}:i===s-1?n={segmentNumber:i,timeMatchType:1}:(i++,r=l[i],a=r.endTime,n=a>t?{segmentNumber:i,timeMatchType:0}:i===s-1?{segmentNumber:i,timeMatchType:1}:o.findSequenceSegmentNumberInRange(t,i+1,s-1)):n=0===i?{segmentNumber:0,timeMatchType:-1}:o.findSequenceSegmentNumberInRange(t,0,i-1),o.lastUsedTimelineSegmentNumber=n.segmentNumber):n=null,n}function c(t,n,i){var r,a,u,o=this.thisPublic,l=e.call(o);do if(r=Math.floor((n+i)/2),a=l.timelineSegments[r],a.startTime>t)i=r-1,u=-1;else{if(!(t>=a.endTime)){u=0;break}n=r+1,u=1}while(i>n);return{segmentNumber:r,timeMatchType:u}}function f(t){var n,i=this.thisPublic,r=e.call(i),a=r.targetSequences,u=a.length;for(n=0;u>n;n++)if(a[n].getTarget()===t)return a[n];return null}function h(){var t=this.thisPublic,i=e.call(t),r=i.indexingProcessData;r.step=0,r.startingIndex=0,r.iterationsPerRound=n.Definitions.StartingIterationsPerAsynchProcessingRound.buildBreakPointList,r.inputData=i.allTransformations,r.totalIterationsThisStep=i.allTransformations.length,r.outputData=Array(2*r.totalIterationsThisStep)}function d(){function t(){var e,i,r,l,s,c,f,h=u.step,d=u.isAsynchronous,m=u.inputData,g=u.startingIndex,p=u.totalIterationsThisStep,v=d?u.iterationsPerRound:p,T=Math.min(p,g+v),S=u.outputData,y=!1,P=0===h?2*g:null;if(d&&(e=(new Date).getTime()),2!==h||d||n.Util.isArray(m))for(3===h?l=m[g]:4===h&&(f=a.targetSequences);T>g;){switch(h){case 0:r=m[g],S[P++]=r.t1,S[P++]=r.t2;break;case 1:l=m[g],S[l]=l;break;case 2:o(m[g],S);break;case 3:c=m[g+1],S[g]=new n.TimelineSegment(l,c),l=c;break;case 4:f[g].indexTransformations(m)}g++}else for(s in m)m.hasOwnProperty(s)&&o(m[s],S);return T===p?y=a.advanceIndexingToNextStep():(i=(new Date).getTime(),u.startingIndex=g,n.Definitions.IterationRoundTimeHalfBound>i-e&&(u.iterationsPerRound*=2)),d&&!y&&(a.indexTimerID=window.setTimeout(t,0)),y}var i,r=this.thisPublic,a=e.call(r),u=a.indexingProcessData;if(u.isAsynchronous)a.indexingInProgress=!0,a.indexTimerID=window.setTimeout(t,0);else for(null!==a.indexTimerID&&(window.clearTimeout(a.indexTimerID),a.indexTimerID=null);!i;)i=t()}function m(t){var i,r,a,u,o,l,s,c,f,h,d,m,g,p,v,T,S,y,P,b,I,D,x,w,q,A,R,k,C,F,O,N,B,U=this.thisPublic,V=e.call(U),j=[],M=V.targetSequences,z=null,E=V.defaults,G=V.allTransformations,L=V.dynamicValueTransformations;for(V.indexingInProgress?V.resetIndexing():V.indexed=!1,n.Util.isArray(t)||(t=[t]),i=0,u=t.length;u>i;i++)if(o=t[i],l=o.target,s=o.targets,n.Util.isArray(s))for(l!==void 0&&null!==l&&(s=[l].concat(s)),r=0,c=s.length;c>r;r++){f={};for(P in o)o.hasOwnProperty(P)&&(f[P]=o[P]);f.targets=null,f.target=s[r],U.addTransformations(f)}else{for(z=V.findTargetSequenceByTarget(l),null===z&&(z=new n.TargetSequence(l),M.push(z)),h=n.Util.isArray(o.feature)?o.feature:[o.feature],p=o.applicator,p===void 0&&(p=E.applicator),d=o.unit,d===void 0&&(d=E.unit),m=o.calculator,m===void 0&&(m=E.calculator),g=o.easing,g===void 0&&(g=E.easing),r=0;h.length>r;r++)D=z.findFeatureSequenceByFeature(h[r]),null===D&&(D=new n.FeatureSequence(l,h[r]),z.addFeatureSequence(D)),j[r]=D;if(v=o.keyframes,v!==void 0){for(w=v.times,q=v.values,A=v.valueGenerators,F=O=N=k=C=null,r=0,x=w.length;x>r;r++)if(R=w[r],q&&(k=q[r]),A&&(C=A[r]),null===F?(F=R,O=k,N=C,B=null!==R&&r===x-1):null===R?(F=O=N=null,B=!1):B=!0,B){for(b={target:l,feature:1===h.length?h[0]:h,applicator:p,unit:d,calculator:m,easing:g,t1:F,t2:R,v1:O,v2:k,v1Generator:N,v2Generator:C},I=new n.Transformation(b),G.push(I),(N||C)&&L.push(I),a=0;j.length>a;a++)j[a].transformations.push(I);F=R,O=k}}else for(T=o.segments,n.Util.isArray(T)||(T=[T]),r=0,S=T.length;S>r;r++){y=T[r],b={target:l,feature:1===h.length?h[0]:h,applicator:p};for(P in y)y.hasOwnProperty(P)&&(b[P]=y[P]);for(b.unit===void 0&&(b.unit=d),b.calculator===void 0&&(b.calculator=m),b.easing===void 0&&(b.easing=g),I=new n.Transformation(b),G.push(I),(b.v1Generator!==void 0||b.v2Generator!==void 0)&&L.push(I),a=0;j.length>a;a++)j[a].transformations.push(I)}}}function g(e){var t=this.thisPublic;t.run(r({synchronizeTo:null,initialSeek:0,timeOffset:null,autoStopAtEnd:!0},e))}function p(t,i,r){var a,o,l,s,c,f,h,d,m,g,p,v=this.thisPublic,T=e.call(v),S=i&&T.running,y=T.currentTime,P=T.synchronizer,b=T.speed,I=T.timeOffset,D=T.pollingInterval,x=T.initialSyncSourcePoint,w=T.allTransformations.length,q=0,A=0,R=Array(w),k=Array(T.dynamicValueTransformations.length),C=T.targetSequences,F=C.length,O=Array(F),N=T.timelineSegments,B=N.length,U=Array(B),V=T.defaults,j={},M=new n.Sequence,z={},E=T.soleControlOptimizationDuringRun;for(a=0;F>a;a++)for(d=C[a],m=d.clone(t(d.getTarget())),O[a]=m.targetSequence,s=m.transformations,o=0,c=s.length;c>o;o++)h=s[o],R[q]=h,q++,h.hasDynamicValues()&&(k[A]=h,A++);for(a=0;B>a;a++)g=N[a],U[a]=new n.TimelineSegment(g.startTime,g.endTime);for(l in V)V.hasOwnProperty(l)&&(j[l]=V[l]);return f=S?f=1>D?new n.Pollers.Auto:new n.Pollers.FixedInterval(D):null,p={targetSequences:O,timelineSegments:U,lastUsedTimelineSegmentNumber:T.lastUsedTimelineSegmentNumber,allTransformations:R,dynamicValueTransformations:k,indexCompletionCallbacks:[],indexed:T.indexed,indexingInProgress:!1,indexTimerID:null,indexingProcessData:{},running:S,currentTime:y,unadjustedTime:T.unadjustedTime,sequenceStartTime:T.sequenceStartTime,sequenceEndTime:T.sequenceEndTime,poller:f,synchronizer:P,initialSyncSourcePoint:x,defaults:j,synchronizeTo:T.synchronizeTo,speed:b,timeOffset:I,pollingInterval:D,after:T.after,before:T.before,autoStopAtEnd:T.autoStopAtEnd,onAutoStop:T.onAutoStop,soleControlOptimizationDuringRun:E},u.call(M,z,p),r&&M.seek(y,E),S&&f.run(function(){M.seek(x+b*(P()-x)+I,E)}),M}function v(e,t){var n=this.thisPublic;n.run(r({synchronizeTo:e,initialSeek:null,timeOffset:null},t))}function T(){var t,n=this.thisPublic,i=e.call(n),r=i.dynamicValueTransformations,a=r.length;for(t=0;a>t;t++)r[t].generateValues(n)}function S(){var t=this.thisPublic,n=e.call(t);return n.currentTime}function y(){var t=this.thisPublic,n=e.call(t);return n.indexed||t.index(null,!1),n.sequenceEndTime}function P(){var t=this.thisPublic,n=e.call(t);return n.ID}function b(){var t=this.thisPublic,n=e.call(t);return n.indexed||t.index(null,!1),n.sequenceStartTime}function I(t,n){var i=this.thisPublic,r=e.call(i);r.indexed&&t?t(i):1>r.allTransformations.length?(r.indexed=!0,t&&t(i)):(t&&r.indexCompletionCallbacks.push(t),r.indexingInProgress||r.resetIndexing(),r.indexingProcessData.isAsynchronous=n?!0:!1,r.runIndexing())}function D(){var t=this.thisPublic,n=e.call(t);return n.running}function x(t){var n,i,r=this.thisPublic,a=e.call(r),u=a.targetSequences,o=u.length;for(n=0;o>n;n++)i=u[n],i.retarget(t(i.getTarget()))}function w(t){var i,r,u,o,l,s,c,f,h=this.thisPublic,d=e.call(h);d.running&&h.stop(),d.indexed||h.index(null,!1),a(t,"generateValues",!0)&&h.generateValues(),o=a(t,"initialSeek",null),null!==o&&h.seek(o,!1),d.speed=r=a(t,"speed",d.speed),d.after=a(t,"after",d.after),d.before=a(t,"before",d.before),d.autoStopAtEnd=a(t,"autoStopAtEnd",d.autoStopAtEnd),d.onAutoStop=a(t,"onAutoStop",d.onAutoStop),d.soleControlOptimizationDuringRun=f=a(t,"useSoleControlOptimization",d.soleControlOptimizationDuringRun),d.pollingInterval=l=a(t,"pollingInterval",d.pollingInterval),d.poller=1>l?new n.Pollers.Auto:new n.Pollers.FixedInterval(l),i=a(t,"synchronizeTo",d.synchronizeTo),s=null===i?function(){return(new Date).getTime()}:"function"==typeof i?i:function(){return 1e3*i.currentTime},d.synchronizer=s,d.initialSyncSourcePoint=c=s(),u=a(t,"timeOffset",null),null===u&&(u=null!==d.unadjustedTime?d.unadjustedTime-c:d.sequenceStartTime-c),d.timeOffset=u,d.running=!0,d.poller.run(function(){h.seek(c+r*(s()-c)+u,f)})}function q(t,n){var i,r,a,u,o,l,s,c,f,h=this.thisPublic,d=e.call(h),m=!1,g=null,p=d.targetSequences,v=p.length;if(d.indexed||h.index(null,!1),u=d.sequenceStartTime,o=d.sequenceEndTime,c=d.nextFrameID++,u>t?(l=d.before(u,o,t),s=l.adjustedTime,m=l.hitFinalBoundary):t>o?(l=d.after(u,o,t),s=l.adjustedTime,m=l.hitFinalBoundary):s=t,d.currentTime=s,d.unadjustedTime=t,r=d.findSequenceSegmentNumberByTime(s),null!==r){for(a=r.segmentNumber,a!==d.lastSegmentNumber?(f=!0,d.lastSegmentNumber=a):f=n===void 0?!0:!n,i=0;v>i;i++)p[i].seek(a,s,c,f);g=r.timeMatchType}return m&&d.running&&d.autoStopAtEnd&&(h.stop(),d.onAutoStop&&d.onAutoStop(h)),g}function A(t){var n,i=this.thisPublic,r=e.call(i),a=r.defaults;for(n in t)t.hasOwnProperty(n)&&(a[n]=t[n])}function R(){var t=this.thisPublic,n=e.call(t);n.running=!1,n.poller&&(n.poller.stop(),n.poller=null)}function k(e,t){var n=this.thisPublic;n.run(r({synchronizeTo:e,initialSeek:null,timeOffset:0,autoStopAtEnd:!1},t))}return i}),revertNameSpace:function(){Concert=e}},i={Applicators:n.Applicators,Calculators:n.Calculators,EasingFunctions:n.EasingFunctions,Repeating:n.Repeating,Sequence:n.Sequence,revertNameSpace:n.revertNameSpace};return i}();